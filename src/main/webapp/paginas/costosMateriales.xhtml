<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"      
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:pe="http://primefaces.org/ui/extensions" >

    <div class="ui-fluid">
        <h2>Costos Directos- Material</h2>
        <p:dataTable id="dataTable-Productos"
                     var="producto" 
                     value="#{fujoCajaController.listaProductos}" 
                     reflow="true"
                     editable="true"
                     style="margin-top:20px">
            <f:facet name="header">
                Precio de Productos
            </f:facet>
            <p:ajax event="rowEdit" listener="#{fujoCajaController.onRowEdit}" update="grow-flujoCaja" />
            <p:ajax event="rowEditCancel" listener="#{fujoCajaController.onRowCancel}" update="grow-flujoCaja" />

            <p:column headerText="Nombre">
                <h:outputText value="#{producto.nombre}" />
            </p:column>

            <p:column headerText="Patas (4)">
                <p:cellEditor>
                    <f:facet name="output"><h:outputText value="#{producto.costoPata}" /></f:facet>
                    <f:facet name="input"><p:inputText id="input-patas" value="#{producto.costoPata}" style="width:100%"/></f:facet>
                </p:cellEditor>
            </p:column>

            <p:column headerText="Asiento (1)">
                <p:cellEditor>
                    <f:facet name="output"><h:outputText value="#{producto.costoAsiento}" /></f:facet>
                    <f:facet name="input"><p:inputText id="input-asiento" value="#{producto.costoAsiento}" style="width:100%"/></f:facet>
                </p:cellEditor>
            </p:column>

            <p:column headerText="Respaldar (1)">
                <p:cellEditor>
                    <f:facet name="output"><h:outputText value="#{producto.costoRespaldar}" /></f:facet>
                    <f:facet name="input"><p:inputText id="input-respaldar" value="#{producto.costoRespaldar}" style="width:100%"/></f:facet>
                </p:cellEditor>
            </p:column>
            <p:column headerText="Tabla (1)">
                <p:cellEditor>
                    <f:facet name="output"><h:outputText value="#{producto.costoTabla}" /></f:facet>
                    <f:facet name="input"><p:inputText id="input-tabla" value="#{producto.costoTabla}" style="width:100%"/></f:facet>
                </p:cellEditor>
            </p:column>
            <p:column headerText="Estructura (1)">
                <p:cellEditor>
                    <f:facet name="output"><h:outputText value="#{producto.costoEstructura}" /></f:facet>
                    <f:facet name="input"><p:inputText id="input-estructura" value="#{producto.costoEstructura}" style="width:100%"/></f:facet>
                </p:cellEditor>
            </p:column>
            <p:column headerText="Pintura (1)">
                <p:cellEditor>
                    <f:facet name="output"><h:outputText value="#{producto.costoPintura}" /></f:facet>
                    <f:facet name="input"><p:inputText id="input-pintura" value="#{producto.costoPintura}" style="width:100%"/></f:facet>
                </p:cellEditor>
            </p:column>
            <p:column headerText="Pintado">
                <p:cellEditor>
                    <f:facet name="output"><h:outputText value="#{producto.manoObraPintado}" /></f:facet>
                    <f:facet name="input"><p:inputText id="input-pintado" value="#{producto.manoObraPintado}" style="width:100%"/></f:facet>
                </p:cellEditor>
            </p:column>
            <p:column headerText="Armado">
                <p:cellEditor>
                    <f:facet name="output"><h:outputText value="#{producto.manoObraArmado}" /></f:facet>
                    <f:facet name="input"><p:inputText id="input-armado" value="#{producto.manoObraArmado}" style="width:100%"/></f:facet>
                </p:cellEditor>
            </p:column>
            <p:column style="width:32px">
                <p:rowEditor />
            </p:column>
        </p:dataTable>
    </div>
    <div style="text-align: right">
        <p:commandButton id="btn-agregarProducto" 
                         value="Agregar nueva Silla"
                         actionListener="#{fujoCajaController.openNuevoProducto()}"
                         icon="fa fa-edit" 
                         update="grow-flujoCaja,
                         form-nuevaProducto"/>
    </div>
</ui:composition>
